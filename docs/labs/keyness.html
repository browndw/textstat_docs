<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Text Analysis for Statistics &amp; Data Science - 6&nbsp; Keyness</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../labs/feature-engineering.html" rel="next">
<link href="../labs/collocations.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/text_analysis.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Text Analysis for Statistics &amp; Data Science</span>
    </a>
  </div>
        <div class="quarto-navbar-tools">
    <a href="https://github.com/browndw/textstat_docs" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../labs/classification-federalist-papers.html">Labs</a></li><li class="breadcrumb-item"><a href="../labs/keyness.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Keyness</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Labs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/classification-federalist-papers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Mosteller &amp; Wallace</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/corpus-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">NLP Basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/processing-pipelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tokenizing with quanteda</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Distributions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/collocations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Collocations &amp; Association Measures</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/keyness.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Keyness</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/feature-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Part-of-Speech Tagging and Dependency Parsing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/logistic-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Logistic Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/multi-dimensional-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Multi-Dimensional Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/cluster-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Cluster Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Time Series</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/sentiment-and-syuzhet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Texts, Algorithms, and Black-Boxes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/vector-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Introduction to Vector Models and Word Embeddings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/random-forest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Random Forest</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Labs Sets</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab_sets/LabSet_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Lab Set 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab_sets/LabSet_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Lab Set 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab_sets/LabSet_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Lab Set 3</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab_sets/LabSet_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Lab Set 4</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Lectures</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/embed_linguistic-facts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Linguistic Facts of Life</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/embed_llms-history.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">LLMs History</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-is-keyness" id="toc-what-is-keyness" class="nav-link active" data-scroll-target="#what-is-keyness"><span class="header-section-number">6.1</span> What is <strong>keyness</strong>?</a></li>
  <li><a href="#prepare-a-corpus" id="toc-prepare-a-corpus" class="nav-link" data-scroll-target="#prepare-a-corpus"><span class="header-section-number">6.2</span> Prepare a corpus</a>
  <ul class="collapse">
  <li><a href="#load-the-needed-packages" id="toc-load-the-needed-packages" class="nav-link" data-scroll-target="#load-the-needed-packages"><span class="header-section-number">6.2.1</span> Load the needed packages</a></li>
  <li><a href="#pre-process-the-data-create-a-corpus" id="toc-pre-process-the-data-create-a-corpus" class="nav-link" data-scroll-target="#pre-process-the-data-create-a-corpus"><span class="header-section-number">6.2.2</span> Pre-process the data &amp; create a corpus</a></li>
  <li><a href="#extract-meta-data-from-file-names" id="toc-extract-meta-data-from-file-names" class="nav-link" data-scroll-target="#extract-meta-data-from-file-names"><span class="header-section-number">6.2.3</span> Extract meta-data from file names</a></li>
  <li><a href="#assign-the-meta-data-to-the-corpus" id="toc-assign-the-meta-data-to-the-corpus" class="nav-link" data-scroll-target="#assign-the-meta-data-to-the-corpus"><span class="header-section-number">6.2.4</span> Assign the meta-data to the corpus</a></li>
  <li><a href="#create-a-dfm" id="toc-create-a-dfm" class="nav-link" data-scroll-target="#create-a-dfm"><span class="header-section-number">6.2.5</span> Create a <strong>dfm</strong></a></li>
  </ul></li>
  <li><a href="#a-corpus-composition-table" id="toc-a-corpus-composition-table" class="nav-link" data-scroll-target="#a-corpus-composition-table"><span class="header-section-number">6.3</span> A corpus composition table</a></li>
  <li><a href="#keyness-in-quanteda" id="toc-keyness-in-quanteda" class="nav-link" data-scroll-target="#keyness-in-quanteda"><span class="header-section-number">6.4</span> Keyness in <strong>quanteda</strong></a>
  <ul class="collapse">
  <li><a href="#creating-sub-corpora" id="toc-creating-sub-corpora" class="nav-link" data-scroll-target="#creating-sub-corpora"><span class="header-section-number">6.4.1</span> Creating sub-corpora</a></li>
  </ul></li>
  <li><a href="#effect-size" id="toc-effect-size" class="nav-link" data-scroll-target="#effect-size"><span class="header-section-number">6.5</span> Effect size</a>
  <ul class="collapse">
  <li><a href="#log-ratio-lr" id="toc-log-ratio-lr" class="nav-link" data-scroll-target="#log-ratio-lr"><span class="header-section-number">6.5.1</span> Log Ratio (LR)</a></li>
  <li><a href="#the-keyness_table-function" id="toc-the-keyness_table-function" class="nav-link" data-scroll-target="#the-keyness_table-function"><span class="header-section-number">6.5.2</span> The <code>keyness_table()</code> function</a></li>
  <li><a href="#keyness-pairs" id="toc-keyness-pairs" class="nav-link" data-scroll-target="#keyness-pairs"><span class="header-section-number">6.5.3</span> Keyness pairs</a></li>
  </ul></li>
  <li><a href="#key-key-words" id="toc-key-key-words" class="nav-link" data-scroll-target="#key-key-words"><span class="header-section-number">6.6</span> Key key words</a></li>
  <li><a href="#works-cited" id="toc-works-cited" class="nav-link" data-scroll-target="#works-cited"><span class="header-section-number">6.7</span> Works cited</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/browndw/textstat_docs/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../labs/classification-federalist-papers.html">Labs</a></li><li class="breadcrumb-item"><a href="../labs/keyness.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Keyness</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Keyness</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>For this lab, we’ll be following many of the same procedures that we’ve done previously:</p>
<ul>
<li>attaching metadata to a corpus using <code>docvars()</code></li>
<li>tokenizing using <code>tokens()</code></li>
<li>handling multiword expressions using <code>tokens_compound()</code></li>
<li>creating a document-feature matrix using <code>dfm()</code></li>
</ul>
<p>For today’s lab we’ll begin some hypothesis testing using news functions from our repository:</p>
<ul>
<li><code>keyness_table()</code></li>
<li><code>keyness_pairs()</code></li>
<li><code>key_keys()</code></li>
</ul>
<p>We’ll also look at quanteda’s function:</p>
<ul>
<li><code>textstat_keyness()</code></li>
</ul>
<section id="what-is-keyness" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="what-is-keyness"><span class="header-section-number">6.1</span> What is <strong>keyness</strong>?</h2>
<p>Keyness is a generic term for various tests that compare observed vs.&nbsp;expected frequencies.</p>
<p>The most commonly used (though not the only option) is called log-likelihood in corpus linguistics, but you will see it else where called a <strong>G-test</strong> goodness-of-fit.</p>
<p>The calculation is based on a 2 x 2 contingency table. It is similar to a chi-square test, but performs better when corpora are unequally sized.</p>
<p>Expected frequencies are based on the relative size of each corpus (in total number of words N<sub>i</sub>) and the total number of observed frequencies:</p>
<p><span class="math display">\[
E_i = \sum_i O_i \times \frac{N_i}{\sum_i N_i}
\]</span> And log-likelihood is calculated according the formula:</p>
<p><span class="math display">\[
LL = 2 \times \sum_i O_i \ln \frac{O_i}{E_i}
\]</span> A good explanation of its implementation in linguistics can be found here: <a href="http://ucrel.lancs.ac.uk/llwizard.html" class="uri">http://ucrel.lancs.ac.uk/llwizard.html</a></p>
<p>In addition to log-likelihood, the <code>textstat_keyness()</code> function in <strong>quanteda</strong> has other optional measures.</p>
<p>See here: <a href="https://quanteda.io/reference/textstat_keyness.html" class="uri">https://quanteda.io/reference/textstat_keyness.html</a></p>
</section>
<section id="prepare-a-corpus" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="prepare-a-corpus"><span class="header-section-number">6.2</span> Prepare a corpus</h2>
<p>We’ll begin, just as we did in the distributions lab.</p>
<section id="load-the-needed-packages" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="load-the-needed-packages"><span class="header-section-number">6.2.1</span> Load the needed packages</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textstats)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Load the functions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"../R/keyness_functions.R"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"../R/helper_functions.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Load the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"../data/sample_corpus.rda"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"../data/multiword_expressions.rda"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pre-process-the-data-create-a-corpus" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="pre-process-the-data-create-a-corpus"><span class="header-section-number">6.2.2</span> Pre-process the data &amp; create a corpus</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>sc <span class="ot">&lt;-</span> sample_corpus <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">preprocess_text</span>(text)) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">corpus</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="extract-meta-data-from-file-names" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="extract-meta-data-from-file-names"><span class="header-section-number">6.2.3</span> Extract meta-data from file names</h3>
<p>We’ll extract some meta-data by (1) selecting the <strong>doc_id</strong> column, (2) extracting the initial letter string before the underscore, and (3) renaming the vector <strong>text_type</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>doc_categories <span class="ot">&lt;-</span> sample_corpus <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(doc_id) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">doc_id =</span> <span class="fu">str_extract</span>(doc_id, <span class="st">"^[a-z]+"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">text_type =</span> doc_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="assign-the-meta-data-to-the-corpus" class="level3" data-number="6.2.4">
<h3 data-number="6.2.4" class="anchored" data-anchor-id="assign-the-meta-data-to-the-corpus"><span class="header-section-number">6.2.4</span> Assign the meta-data to the corpus</h3>
<p>The accessor function <code>docvars()</code> lets us add or modify data in an object. We’re going to use it to assign <strong>text_type</strong> as a variable. Note that <strong>doc_categories</strong> could include more than one column and the assignment process would be the same.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(sc) <span class="ot">&lt;-</span> doc_categories</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And check the result:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>sc <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>() <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="nyijdtakoc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#nyijdtakoc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nyijdtakoc thead, #nyijdtakoc tbody, #nyijdtakoc tfoot, #nyijdtakoc tr, #nyijdtakoc td, #nyijdtakoc th {
  border-style: none;
}

#nyijdtakoc p {
  margin: 0;
  padding: 0;
}

#nyijdtakoc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nyijdtakoc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nyijdtakoc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nyijdtakoc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nyijdtakoc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nyijdtakoc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nyijdtakoc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nyijdtakoc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nyijdtakoc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nyijdtakoc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nyijdtakoc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nyijdtakoc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nyijdtakoc .gt_spanner_row {
  border-bottom-style: hidden;
}

#nyijdtakoc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nyijdtakoc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nyijdtakoc .gt_from_md > :first-child {
  margin-top: 0;
}

#nyijdtakoc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nyijdtakoc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nyijdtakoc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nyijdtakoc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nyijdtakoc .gt_row_group_first td {
  border-top-width: 2px;
}

#nyijdtakoc .gt_row_group_first th {
  border-top-width: 2px;
}

#nyijdtakoc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyijdtakoc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nyijdtakoc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nyijdtakoc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nyijdtakoc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyijdtakoc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nyijdtakoc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nyijdtakoc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nyijdtakoc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nyijdtakoc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nyijdtakoc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyijdtakoc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nyijdtakoc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyijdtakoc .gt_left {
  text-align: left;
}

#nyijdtakoc .gt_center {
  text-align: center;
}

#nyijdtakoc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nyijdtakoc .gt_font_normal {
  font-weight: normal;
}

#nyijdtakoc .gt_font_bold {
  font-weight: bold;
}

#nyijdtakoc .gt_font_italic {
  font-style: italic;
}

#nyijdtakoc .gt_super {
  font-size: 65%;
}

#nyijdtakoc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nyijdtakoc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nyijdtakoc .gt_indent_1 {
  text-indent: 5px;
}

#nyijdtakoc .gt_indent_2 {
  text-indent: 10px;
}

#nyijdtakoc .gt_indent_3 {
  text-indent: 15px;
}

#nyijdtakoc .gt_indent_4 {
  text-indent: 20px;
}

#nyijdtakoc .gt_indent_5 {
  text-indent: 25px;
}

#nyijdtakoc .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#nyijdtakoc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Partial summary of sample corpus.</caption>
<thead>
<tr class="header gt_col_headings">
<th id="Text" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Text</th>
<th id="Types" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Types</th>
<th id="Tokens" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Tokens</th>
<th id="Sentences" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Sentences</th>
<th id="text_type" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">text_type</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Text">acad_01</td>
<td class="gt_row gt_right" headers="Types">772</td>
<td class="gt_row gt_right" headers="Tokens">2534</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Text">acad_02</td>
<td class="gt_row gt_right" headers="Types">933</td>
<td class="gt_row gt_right" headers="Tokens">2544</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Text">acad_03</td>
<td class="gt_row gt_right" headers="Types">889</td>
<td class="gt_row gt_right" headers="Tokens">2525</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Text">acad_04</td>
<td class="gt_row gt_right" headers="Types">941</td>
<td class="gt_row gt_right" headers="Tokens">2541</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Text">acad_05</td>
<td class="gt_row gt_right" headers="Types">857</td>
<td class="gt_row gt_right" headers="Tokens">2504</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Text">acad_06</td>
<td class="gt_row gt_right" headers="Types">962</td>
<td class="gt_row gt_right" headers="Tokens">2575</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Text">acad_07</td>
<td class="gt_row gt_right" headers="Types">615</td>
<td class="gt_row gt_right" headers="Tokens">2443</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Text">acad_08</td>
<td class="gt_row gt_right" headers="Types">805</td>
<td class="gt_row gt_right" headers="Tokens">2540</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Text">acad_09</td>
<td class="gt_row gt_right" headers="Types">912</td>
<td class="gt_row gt_right" headers="Tokens">2544</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Text">acad_10</td>
<td class="gt_row gt_right" headers="Types">1063</td>
<td class="gt_row gt_right" headers="Tokens">2532</td>
<td class="gt_row gt_right" headers="Sentences">1</td>
<td class="gt_row gt_left" headers="text_type">acad</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Note the new column (<strong>text_type</strong> on the right). We could assign any number of categorical variables to our corpus, which could be used for analysis downstream.</p>
</section>
<section id="create-a-dfm" class="level3" data-number="6.2.5">
<h3 data-number="6.2.5" class="anchored" data-anchor-id="create-a-dfm"><span class="header-section-number">6.2.5</span> Create a <strong>dfm</strong></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>sc_dfm <span class="ot">&lt;-</span> sc <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens</span>(<span class="at">what=</span><span class="st">"fastestword"</span>, <span class="at">remove_numbers=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_compound</span>(<span class="at">pattern =</span> <span class="fu">phrase</span>(multiword_expressions)) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="a-corpus-composition-table" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="a-corpus-composition-table"><span class="header-section-number">6.3</span> A corpus composition table</h2>
<p>It is conventional to report out the composition of the corpus or corpora you are using for your study. Here will will sum our tokens by text-type and similarly count the number of texts in each grouping.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>corpus_comp <span class="ot">&lt;-</span> <span class="fu">ntoken</span>(sc_dfm) <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="at">Tokens =</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"Text_Type"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text_Type =</span> <span class="fu">str_extract</span>(Text_Type, <span class="st">"^[a-z]+"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Text_Type) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Texts =</span> <span class="fu">n</span>(),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Tokens =</span> <span class="fu">sum</span>(Tokens)) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text_Type =</span> <span class="fu">c</span>(<span class="st">"Academic"</span>, <span class="st">"Blog"</span>, <span class="st">"Fiction"</span>, <span class="st">"Magazine"</span>, <span class="st">"News"</span>, <span class="st">"Spoken"</span>, <span class="st">"Television/Movies"</span>, <span class="st">"Web"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, using <code>grand_summary_rows()</code>, we can append a row of totals at the bottom of the table.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>corpus_comp <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_integer</span>() <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Text_Type =</span> <span class="fu">md</span>(<span class="st">"**Text Type**"</span>),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Texts =</span> <span class="fu">md</span>(<span class="st">"**Texts**"</span>),</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Tokens =</span> <span class="fu">md</span>(<span class="st">"**Tokens**"</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grand_summary_rows</span>(</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(Texts, Tokens),</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">fns =</span> <span class="fu">list</span>(</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>      Total <span class="sc">~</span> <span class="fu">sum</span>(.)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    ) ,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">fmt =</span> <span class="sc">~</span> <span class="fu">fmt_integer</span>(.)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="vudekpypqt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vudekpypqt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vudekpypqt thead, #vudekpypqt tbody, #vudekpypqt tfoot, #vudekpypqt tr, #vudekpypqt td, #vudekpypqt th {
  border-style: none;
}

#vudekpypqt p {
  margin: 0;
  padding: 0;
}

#vudekpypqt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vudekpypqt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vudekpypqt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vudekpypqt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vudekpypqt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vudekpypqt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vudekpypqt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vudekpypqt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vudekpypqt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vudekpypqt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vudekpypqt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vudekpypqt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vudekpypqt .gt_spanner_row {
  border-bottom-style: hidden;
}

#vudekpypqt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vudekpypqt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vudekpypqt .gt_from_md > :first-child {
  margin-top: 0;
}

#vudekpypqt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vudekpypqt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vudekpypqt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vudekpypqt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vudekpypqt .gt_row_group_first td {
  border-top-width: 2px;
}

#vudekpypqt .gt_row_group_first th {
  border-top-width: 2px;
}

#vudekpypqt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vudekpypqt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vudekpypqt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vudekpypqt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vudekpypqt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vudekpypqt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vudekpypqt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vudekpypqt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vudekpypqt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vudekpypqt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vudekpypqt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vudekpypqt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vudekpypqt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vudekpypqt .gt_left {
  text-align: left;
}

#vudekpypqt .gt_center {
  text-align: center;
}

#vudekpypqt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vudekpypqt .gt_font_normal {
  font-weight: normal;
}

#vudekpypqt .gt_font_bold {
  font-weight: bold;
}

#vudekpypqt .gt_font_italic {
  font-style: italic;
}

#vudekpypqt .gt_super {
  font-size: 65%;
}

#vudekpypqt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vudekpypqt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vudekpypqt .gt_indent_1 {
  text-indent: 5px;
}

#vudekpypqt .gt_indent_2 {
  text-indent: 10px;
}

#vudekpypqt .gt_indent_3 {
  text-indent: 15px;
}

#vudekpypqt .gt_indent_4 {
  text-indent: 20px;
}

#vudekpypqt .gt_indent_5 {
  text-indent: 25px;
}

#vudekpypqt .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#vudekpypqt div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Composition of the sample corpus.</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="<div data-qmd-base64=&quot;KipUZXh0IFR5cGUqKg==&quot;><div class='gt_from_md'><p><strong>Text Type</strong></p>
</div></div>" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><p><strong>Text Type</strong></p></th>
<th id="<div data-qmd-base64=&quot;KipUZXh0cyoq&quot;><div class='gt_from_md'><p><strong>Texts</strong></p>
</div></div>" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col"><p><strong>Texts</strong></p></th>
<th id="<div data-qmd-base64=&quot;KipUb2tlbnMqKg==&quot;><div class='gt_from_md'><p><strong>Tokens</strong></p>
</div></div>" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col"><p><strong>Tokens</strong></p></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row"></td>
<td class="gt_row gt_left" headers="stub_1_1 Text_Type">Academic</td>
<td class="gt_row gt_right" headers="stub_1_1 Texts">50</td>
<td class="gt_row gt_right" headers="stub_1_1 Tokens">121,442</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row"></td>
<td class="gt_row gt_left" headers="stub_1_2 Text_Type">Blog</td>
<td class="gt_row gt_right" headers="stub_1_2 Texts">50</td>
<td class="gt_row gt_right" headers="stub_1_2 Tokens">125,492</td>
</tr>
<tr class="odd">
<td id="stub_1_3" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row"></td>
<td class="gt_row gt_left" headers="stub_1_3 Text_Type">Fiction</td>
<td class="gt_row gt_right" headers="stub_1_3 Texts">50</td>
<td class="gt_row gt_right" headers="stub_1_3 Tokens">128,644</td>
</tr>
<tr class="even">
<td id="stub_1_4" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row"></td>
<td class="gt_row gt_left" headers="stub_1_4 Text_Type">Magazine</td>
<td class="gt_row gt_right" headers="stub_1_4 Texts">50</td>
<td class="gt_row gt_right" headers="stub_1_4 Tokens">126,631</td>
</tr>
<tr class="odd">
<td id="stub_1_5" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row"></td>
<td class="gt_row gt_left" headers="stub_1_5 Text_Type">News</td>
<td class="gt_row gt_right" headers="stub_1_5 Texts">50</td>
<td class="gt_row gt_right" headers="stub_1_5 Tokens">119,029</td>
</tr>
<tr class="even">
<td id="stub_1_6" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row"></td>
<td class="gt_row gt_left" headers="stub_1_6 Text_Type">Spoken</td>
<td class="gt_row gt_right" headers="stub_1_6 Texts">50</td>
<td class="gt_row gt_right" headers="stub_1_6 Tokens">127,156</td>
</tr>
<tr class="odd">
<td id="stub_1_7" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row"></td>
<td class="gt_row gt_left" headers="stub_1_7 Text_Type">Television/Movies</td>
<td class="gt_row gt_right" headers="stub_1_7 Texts">50</td>
<td class="gt_row gt_right" headers="stub_1_7 Tokens">128,191</td>
</tr>
<tr class="even">
<td id="stub_1_8" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row"></td>
<td class="gt_row gt_left" headers="stub_1_8 Text_Type">Web</td>
<td class="gt_row gt_right" headers="stub_1_8 Texts">50</td>
<td class="gt_row gt_right" headers="stub_1_8 Tokens">124,302</td>
</tr>
<tr class="odd">
<td id="grand_summary_stub_1" class="gt_row gt_left gt_stub gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row" data-quarto-table-cell-role="th" scope="row">Total</td>
<td class="gt_row gt_left gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row" headers="grand_summary_stub_1 Text_Type">—</td>
<td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row" headers="grand_summary_stub_1 Texts">400</td>
<td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row" headers="grand_summary_stub_1 Tokens">1,000,887</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="keyness-in-quanteda" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="keyness-in-quanteda"><span class="header-section-number">6.4</span> Keyness in <strong>quanteda</strong></h2>
<p>Now that we have a <strong>dfm</strong> we perform keyness calculations. First, let’s carry out calculations using <code>textstat_keyness()</code>.</p>
<p>When we use it with textstat_keyness we are indicating that we want the papers with discipline_cat equal to “acad” to be our <strong>target corpus</strong>. The everything else (i.e., “acad” == FALSE) will be the <strong>reference corpus</strong>.</p>
<p>The specific method we’re using is log-likelihood, which is designated by “lr”. Thus keyness will show the tokens that are more frequent in papers written for the <em>academic</em> text-type vs.&nbsp;those written for other text-types.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>acad_kw <span class="ot">&lt;-</span> <span class="fu">textstat_keyness</span>(sc_dfm, <span class="fu">docvars</span>(sc_dfm, <span class="st">"text_type"</span>) <span class="sc">==</span> <span class="st">"acad"</span>, <span class="at">measure =</span> <span class="st">"lr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note the second argument: <code>docvars(sc_dfm, "text_type") == "acad"</code>. That slightly awkward syntax simply produces a logical vector. You could store it and pass the vector the function, as well.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>acad_kw <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="st">"G2"</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tsublbkfwf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#tsublbkfwf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tsublbkfwf thead, #tsublbkfwf tbody, #tsublbkfwf tfoot, #tsublbkfwf tr, #tsublbkfwf td, #tsublbkfwf th {
  border-style: none;
}

#tsublbkfwf p {
  margin: 0;
  padding: 0;
}

#tsublbkfwf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tsublbkfwf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tsublbkfwf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tsublbkfwf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tsublbkfwf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tsublbkfwf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tsublbkfwf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tsublbkfwf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tsublbkfwf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tsublbkfwf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tsublbkfwf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tsublbkfwf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tsublbkfwf .gt_spanner_row {
  border-bottom-style: hidden;
}

#tsublbkfwf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tsublbkfwf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tsublbkfwf .gt_from_md > :first-child {
  margin-top: 0;
}

#tsublbkfwf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tsublbkfwf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tsublbkfwf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#tsublbkfwf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tsublbkfwf .gt_row_group_first td {
  border-top-width: 2px;
}

#tsublbkfwf .gt_row_group_first th {
  border-top-width: 2px;
}

#tsublbkfwf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tsublbkfwf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tsublbkfwf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tsublbkfwf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tsublbkfwf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tsublbkfwf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tsublbkfwf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tsublbkfwf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tsublbkfwf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tsublbkfwf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tsublbkfwf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tsublbkfwf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tsublbkfwf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tsublbkfwf .gt_left {
  text-align: left;
}

#tsublbkfwf .gt_center {
  text-align: center;
}

#tsublbkfwf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tsublbkfwf .gt_font_normal {
  font-weight: normal;
}

#tsublbkfwf .gt_font_bold {
  font-weight: bold;
}

#tsublbkfwf .gt_font_italic {
  font-style: italic;
}

#tsublbkfwf .gt_super {
  font-size: 65%;
}

#tsublbkfwf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tsublbkfwf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tsublbkfwf .gt_indent_1 {
  text-indent: 5px;
}

#tsublbkfwf .gt_indent_2 {
  text-indent: 10px;
}

#tsublbkfwf .gt_indent_3 {
  text-indent: 15px;
}

#tsublbkfwf .gt_indent_4 {
  text-indent: 20px;
}

#tsublbkfwf .gt_indent_5 {
  text-indent: 25px;
}

#tsublbkfwf .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#tsublbkfwf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Tokens with the highest keyness values in the academic text-type when compared to the rest of the sample corpus.</caption>
<thead>
<tr class="header gt_col_headings">
<th id="feature" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">feature</th>
<th id="G2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">G2</th>
<th id="p" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p</th>
<th id="n_target" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n_target</th>
<th id="n_reference" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n_reference</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="feature">of</td>
<td class="gt_row gt_right" headers="G2">1,703.90</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">4848</td>
<td class="gt_row gt_right" headers="n_reference">17258</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">the</td>
<td class="gt_row gt_right" headers="G2">777.88</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">8273</td>
<td class="gt_row gt_right" headers="n_reference">42712</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">social</td>
<td class="gt_row gt_right" headers="G2">456.00</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">208</td>
<td class="gt_row gt_right" headers="n_reference">133</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">studies</td>
<td class="gt_row gt_right" headers="G2">391.06</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">155</td>
<td class="gt_row gt_right" headers="n_reference">71</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">study</td>
<td class="gt_row gt_right" headers="G2">318.95</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">158</td>
<td class="gt_row gt_right" headers="n_reference">119</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">in</td>
<td class="gt_row gt_right" headers="G2">316.66</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">2715</td>
<td class="gt_row gt_right" headers="n_reference">13341</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">perfectionism</td>
<td class="gt_row gt_right" headers="G2">301.84</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">74</td>
<td class="gt_row gt_right" headers="n_reference">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">by</td>
<td class="gt_row gt_right" headers="G2">297.33</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">790</td>
<td class="gt_row gt_right" headers="n_reference">2707</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">practice</td>
<td class="gt_row gt_right" headers="G2">267.90</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">117</td>
<td class="gt_row gt_right" headers="n_reference">68</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">science</td>
<td class="gt_row gt_right" headers="G2">259.37</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">118</td>
<td class="gt_row gt_right" headers="n_reference">75</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="creating-sub-corpora" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="creating-sub-corpora"><span class="header-section-number">6.4.1</span> Creating sub-corpora</h3>
<p>If we want to compare one text-type (as our target corpus) to another (as our reference corpus), we can easily subset the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sub_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_subset</span>(sc_dfm, text_type <span class="sc">==</span> <span class="st">"acad"</span> <span class="sc">|</span> text_type <span class="sc">==</span> <span class="st">"fic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When we do this, the resulting data will still include <strong>all</strong> the tokens in the sample corpus, including those that do not appear in either the academic or fiction text-type. To deal with this, we will trim the dfm.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sub_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(sub_dfm, <span class="at">min_termfreq =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We’ll do the same for fiction.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>fic_kw <span class="ot">&lt;-</span> <span class="fu">textstat_keyness</span>(sub_dfm, <span class="fu">docvars</span>(sub_dfm, <span class="st">"text_type"</span>) <span class="sc">==</span> <span class="st">"fic"</span>, <span class="at">measure =</span> <span class="st">"lr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>fic_kw <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="st">"G2"</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="oesdsdysyv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#oesdsdysyv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#oesdsdysyv thead, #oesdsdysyv tbody, #oesdsdysyv tfoot, #oesdsdysyv tr, #oesdsdysyv td, #oesdsdysyv th {
  border-style: none;
}

#oesdsdysyv p {
  margin: 0;
  padding: 0;
}

#oesdsdysyv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#oesdsdysyv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#oesdsdysyv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#oesdsdysyv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#oesdsdysyv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oesdsdysyv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oesdsdysyv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oesdsdysyv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#oesdsdysyv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#oesdsdysyv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#oesdsdysyv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#oesdsdysyv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#oesdsdysyv .gt_spanner_row {
  border-bottom-style: hidden;
}

#oesdsdysyv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#oesdsdysyv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#oesdsdysyv .gt_from_md > :first-child {
  margin-top: 0;
}

#oesdsdysyv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#oesdsdysyv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#oesdsdysyv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#oesdsdysyv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#oesdsdysyv .gt_row_group_first td {
  border-top-width: 2px;
}

#oesdsdysyv .gt_row_group_first th {
  border-top-width: 2px;
}

#oesdsdysyv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oesdsdysyv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#oesdsdysyv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#oesdsdysyv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oesdsdysyv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oesdsdysyv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#oesdsdysyv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#oesdsdysyv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#oesdsdysyv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oesdsdysyv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oesdsdysyv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oesdsdysyv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oesdsdysyv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oesdsdysyv .gt_left {
  text-align: left;
}

#oesdsdysyv .gt_center {
  text-align: center;
}

#oesdsdysyv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#oesdsdysyv .gt_font_normal {
  font-weight: normal;
}

#oesdsdysyv .gt_font_bold {
  font-weight: bold;
}

#oesdsdysyv .gt_font_italic {
  font-style: italic;
}

#oesdsdysyv .gt_super {
  font-size: 65%;
}

#oesdsdysyv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#oesdsdysyv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#oesdsdysyv .gt_indent_1 {
  text-indent: 5px;
}

#oesdsdysyv .gt_indent_2 {
  text-indent: 10px;
}

#oesdsdysyv .gt_indent_3 {
  text-indent: 15px;
}

#oesdsdysyv .gt_indent_4 {
  text-indent: 20px;
}

#oesdsdysyv .gt_indent_5 {
  text-indent: 25px;
}

#oesdsdysyv .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#oesdsdysyv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Tokens with the highest keyness values in the fiction text-type when compared to the academic text-type.</caption>
<thead>
<tr class="header gt_col_headings">
<th id="feature" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">feature</th>
<th id="G2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">G2</th>
<th id="p" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p</th>
<th id="n_target" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n_target</th>
<th id="n_reference" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n_reference</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="feature">i</td>
<td class="gt_row gt_right" headers="G2">2,350.21</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">2428</td>
<td class="gt_row gt_right" headers="n_reference">143</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">she</td>
<td class="gt_row gt_right" headers="G2">1,861.48</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">1763</td>
<td class="gt_row gt_right" headers="n_reference">70</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">he</td>
<td class="gt_row gt_right" headers="G2">1,699.10</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">1978</td>
<td class="gt_row gt_right" headers="n_reference">170</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">her</td>
<td class="gt_row gt_right" headers="G2">1,453.01</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">1559</td>
<td class="gt_row gt_right" headers="n_reference">104</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">you</td>
<td class="gt_row gt_right" headers="G2">1,361.11</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">1286</td>
<td class="gt_row gt_right" headers="n_reference">50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">n't</td>
<td class="gt_row gt_right" headers="G2">929.29</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">914</td>
<td class="gt_row gt_right" headers="n_reference">43</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">his</td>
<td class="gt_row gt_right" headers="G2">805.06</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">1155</td>
<td class="gt_row gt_right" headers="n_reference">157</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">my</td>
<td class="gt_row gt_right" headers="G2">732.26</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">758</td>
<td class="gt_row gt_right" headers="n_reference">44</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">me</td>
<td class="gt_row gt_right" headers="G2">591.50</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">557</td>
<td class="gt_row gt_right" headers="n_reference">21</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">him</td>
<td class="gt_row gt_right" headers="G2">541.51</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">548</td>
<td class="gt_row gt_right" headers="n_reference">29</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Note that if we switch our target and reference corpora (academic as target, fiction as reference), the tail of the keyness table contains the negative values of the original (fiction as target, academic and reference), which you may have already gathered given the formula above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>acad_kw <span class="ot">&lt;-</span> <span class="fu">textstat_keyness</span>(sub_dfm, <span class="fu">docvars</span>(sub_dfm, <span class="st">"text_type"</span>) <span class="sc">==</span> <span class="st">"acad"</span>, <span class="at">measure =</span> <span class="st">"lr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>acad_kw <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="st">"G2"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="lrkjvsgjgu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#lrkjvsgjgu table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lrkjvsgjgu thead, #lrkjvsgjgu tbody, #lrkjvsgjgu tfoot, #lrkjvsgjgu tr, #lrkjvsgjgu td, #lrkjvsgjgu th {
  border-style: none;
}

#lrkjvsgjgu p {
  margin: 0;
  padding: 0;
}

#lrkjvsgjgu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lrkjvsgjgu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lrkjvsgjgu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lrkjvsgjgu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lrkjvsgjgu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lrkjvsgjgu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lrkjvsgjgu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lrkjvsgjgu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lrkjvsgjgu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lrkjvsgjgu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lrkjvsgjgu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lrkjvsgjgu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lrkjvsgjgu .gt_spanner_row {
  border-bottom-style: hidden;
}

#lrkjvsgjgu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lrkjvsgjgu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lrkjvsgjgu .gt_from_md > :first-child {
  margin-top: 0;
}

#lrkjvsgjgu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lrkjvsgjgu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lrkjvsgjgu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lrkjvsgjgu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lrkjvsgjgu .gt_row_group_first td {
  border-top-width: 2px;
}

#lrkjvsgjgu .gt_row_group_first th {
  border-top-width: 2px;
}

#lrkjvsgjgu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lrkjvsgjgu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lrkjvsgjgu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lrkjvsgjgu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lrkjvsgjgu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lrkjvsgjgu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lrkjvsgjgu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lrkjvsgjgu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lrkjvsgjgu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lrkjvsgjgu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lrkjvsgjgu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lrkjvsgjgu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lrkjvsgjgu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lrkjvsgjgu .gt_left {
  text-align: left;
}

#lrkjvsgjgu .gt_center {
  text-align: center;
}

#lrkjvsgjgu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lrkjvsgjgu .gt_font_normal {
  font-weight: normal;
}

#lrkjvsgjgu .gt_font_bold {
  font-weight: bold;
}

#lrkjvsgjgu .gt_font_italic {
  font-style: italic;
}

#lrkjvsgjgu .gt_super {
  font-size: 65%;
}

#lrkjvsgjgu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lrkjvsgjgu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lrkjvsgjgu .gt_indent_1 {
  text-indent: 5px;
}

#lrkjvsgjgu .gt_indent_2 {
  text-indent: 10px;
}

#lrkjvsgjgu .gt_indent_3 {
  text-indent: 15px;
}

#lrkjvsgjgu .gt_indent_4 {
  text-indent: 20px;
}

#lrkjvsgjgu .gt_indent_5 {
  text-indent: 25px;
}

#lrkjvsgjgu .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#lrkjvsgjgu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Tokens with the lowest keyness values int the academic text-type when compared to the fiction text-type.</caption>
<thead>
<tr class="header gt_col_headings">
<th id="feature" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">feature</th>
<th id="G2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">G2</th>
<th id="p" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p</th>
<th id="n_target" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n_target</th>
<th id="n_reference" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n_reference</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="feature">him</td>
<td class="gt_row gt_right" headers="G2">−541.51</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">29</td>
<td class="gt_row gt_right" headers="n_reference">548</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">me</td>
<td class="gt_row gt_right" headers="G2">−591.50</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">21</td>
<td class="gt_row gt_right" headers="n_reference">557</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">my</td>
<td class="gt_row gt_right" headers="G2">−732.26</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">44</td>
<td class="gt_row gt_right" headers="n_reference">758</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">his</td>
<td class="gt_row gt_right" headers="G2">−805.06</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">157</td>
<td class="gt_row gt_right" headers="n_reference">1155</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">n't</td>
<td class="gt_row gt_right" headers="G2">−929.29</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">43</td>
<td class="gt_row gt_right" headers="n_reference">914</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">you</td>
<td class="gt_row gt_right" headers="G2">−1,361.11</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">50</td>
<td class="gt_row gt_right" headers="n_reference">1286</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">her</td>
<td class="gt_row gt_right" headers="G2">−1,453.01</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">104</td>
<td class="gt_row gt_right" headers="n_reference">1559</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">he</td>
<td class="gt_row gt_right" headers="G2">−1,699.10</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">170</td>
<td class="gt_row gt_right" headers="n_reference">1978</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="feature">she</td>
<td class="gt_row gt_right" headers="G2">−1,861.48</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">70</td>
<td class="gt_row gt_right" headers="n_reference">1763</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="feature">i</td>
<td class="gt_row gt_right" headers="G2">−2,350.21</td>
<td class="gt_row gt_right" headers="p">0</td>
<td class="gt_row gt_right" headers="n_target">143</td>
<td class="gt_row gt_right" headers="n_reference">2428</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="effect-size" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="effect-size"><span class="header-section-number">6.5</span> Effect size</h2>
<p>While <strong>quanteda</strong> produces one important piece of information (the amount of evidence we have for an effect), it neglects another (the magnitude of the effect). Whenever we report on significance it is <strong>critical</strong> to report <strong>effect size</strong>. Some common effect size measures include:</p>
<ul>
<li>%DIFF - see Gabrielatos and Marchi <span class="citation" data-cites="gabrielatos2011keyness">(<a href="#ref-gabrielatos2011keyness" role="doc-biblioref">2011</a>)</span>
<ul>
<li>Costas has also provided an FAQ with more details <a href="http://ucrel.lancs.ac.uk/ll/DIFF_FAQ.pdf" class="uri">http://ucrel.lancs.ac.uk/ll/DIFF_FAQ.pdf</a></li>
</ul></li>
<li>Bayes Factor (BIC) - see Wilson <span class="citation" data-cites="wilson2013embracing">(<a href="#ref-wilson2013embracing" role="doc-biblioref">2013</a>)</span>
<ul>
<li>You can interpret the approximate Bayes Factor as degrees of evidence against the null hypothesis as follows:
<ul>
<li>0-2: not worth more than a bare mention</li>
<li>2-6: positive evidence against H<sub>0</sub></li>
<li>6-10: strong evidence against H<sub>0</sub></li>
<li>10: very strong evidence against H<sub>0</sub></li>
</ul></li>
<li>For negative scores, the scale is read as “in favor of” instead of “against”.</li>
</ul></li>
<li>Effect Size for Log Likelihood (ELL) - see Johnston <em>et al.</em> <span class="citation" data-cites="johnston2006measures">(<a href="#ref-johnston2006measures" role="doc-biblioref">2006</a>)</span>
<ul>
<li>ELL varies between 0 and 1 (inclusive). Johnston <em>et al.</em> say “interpretation is straightforward as the proportion of the maximum departure between the observed and expected proportions”.</li>
</ul></li>
<li>Relative Risk</li>
<li>Odds Ratio</li>
<li>Log Ratio - see Andrew Hardie’s CASS blog for how to interpret this
<ul>
<li>Note that if either word has zero frequency then a small adjustment is automatically applied (0.5 observed frequency which is then normalized) to avoid division by zero errors.</li>
</ul></li>
</ul>
<section id="log-ratio-lr" class="level3" data-number="6.5.1">
<h3 data-number="6.5.1" class="anchored" data-anchor-id="log-ratio-lr"><span class="header-section-number">6.5.1</span> Log Ratio (LR)</h3>
<p>You are welcome to use any of these effect size measures. Our repo comes with a function for calculating Hardie’s Log Ratio, which is easy and intuitive.</p>
</section>
<section id="the-keyness_table-function" class="level3" data-number="6.5.2">
<h3 data-number="6.5.2" class="anchored" data-anchor-id="the-keyness_table-function"><span class="header-section-number">6.5.2</span> The <code>keyness_table()</code> function</h3>
<p>We’ll start by creating 2 dfms–a target and a reference:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>acad_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_subset</span>(sc_dfm, text_type <span class="sc">==</span> <span class="st">"acad"</span>) <span class="sc">%&gt;%</span> <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">1</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>fic_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_subset</span>(sc_dfm, text_type <span class="sc">==</span> <span class="st">"fic"</span>) <span class="sc">%&gt;%</span> <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we will use the <code>keyness_table()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>acad_kw <span class="ot">&lt;-</span> <span class="fu">keyness_table</span>(acad_dfm, fic_dfm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And check the result:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>acad_kw <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"LL"</span>, <span class="st">"LR"</span>, <span class="st">"Per_10.5_Tar"</span>, <span class="st">"Per_10.5_Ref"</span>, <span class="st">"DP_Tar"</span>, <span class="st">"DP_Ref"</span>),</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">2</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="st">"PV"</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="rtlulycnma" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rtlulycnma table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rtlulycnma thead, #rtlulycnma tbody, #rtlulycnma tfoot, #rtlulycnma tr, #rtlulycnma td, #rtlulycnma th {
  border-style: none;
}

#rtlulycnma p {
  margin: 0;
  padding: 0;
}

#rtlulycnma .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rtlulycnma .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rtlulycnma .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rtlulycnma .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rtlulycnma .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rtlulycnma .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rtlulycnma .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rtlulycnma .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rtlulycnma .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rtlulycnma .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rtlulycnma .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rtlulycnma .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rtlulycnma .gt_spanner_row {
  border-bottom-style: hidden;
}

#rtlulycnma .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rtlulycnma .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rtlulycnma .gt_from_md > :first-child {
  margin-top: 0;
}

#rtlulycnma .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rtlulycnma .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rtlulycnma .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rtlulycnma .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rtlulycnma .gt_row_group_first td {
  border-top-width: 2px;
}

#rtlulycnma .gt_row_group_first th {
  border-top-width: 2px;
}

#rtlulycnma .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rtlulycnma .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rtlulycnma .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rtlulycnma .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rtlulycnma .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rtlulycnma .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rtlulycnma .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rtlulycnma .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rtlulycnma .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rtlulycnma .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rtlulycnma .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rtlulycnma .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rtlulycnma .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rtlulycnma .gt_left {
  text-align: left;
}

#rtlulycnma .gt_center {
  text-align: center;
}

#rtlulycnma .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rtlulycnma .gt_font_normal {
  font-weight: normal;
}

#rtlulycnma .gt_font_bold {
  font-weight: bold;
}

#rtlulycnma .gt_font_italic {
  font-style: italic;
}

#rtlulycnma .gt_super {
  font-size: 65%;
}

#rtlulycnma .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rtlulycnma .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rtlulycnma .gt_indent_1 {
  text-indent: 5px;
}

#rtlulycnma .gt_indent_2 {
  text-indent: 10px;
}

#rtlulycnma .gt_indent_3 {
  text-indent: 15px;
}

#rtlulycnma .gt_indent_4 {
  text-indent: 20px;
}

#rtlulycnma .gt_indent_5 {
  text-indent: 25px;
}

#rtlulycnma .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#rtlulycnma div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Tokens with the highest keyness values in the academic text-type when compared to the fiction text-type.</caption>
<thead>
<tr class="header gt_col_headings">
<th id="Token" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Token</th>
<th id="LL" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">LL</th>
<th id="LR" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">LR</th>
<th id="PV" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">PV</th>
<th id="AF_Tar" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">AF_Tar</th>
<th id="AF_Ref" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">AF_Ref</th>
<th id="Per_10.5_Tar" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Per_10.5_Tar</th>
<th id="Per_10.5_Ref" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Per_10.5_Ref</th>
<th id="DP_Tar" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">DP_Tar</th>
<th id="DP_Ref" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">DP_Ref</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Token">of</td>
<td class="gt_row gt_right" headers="LL">1,225.77</td>
<td class="gt_row gt_right" headers="LR">1.25</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">4848</td>
<td class="gt_row gt_right" headers="AF_Ref">2153</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">3,992.03</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">1,673.61</td>
<td class="gt_row gt_right" headers="DP_Tar">0.09</td>
<td class="gt_row gt_right" headers="DP_Ref">0.15</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">the</td>
<td class="gt_row gt_right" headers="LL">250.03</td>
<td class="gt_row gt_right" headers="LR">0.37</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">8273</td>
<td class="gt_row gt_right" headers="AF_Ref">6768</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">6,812.31</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">5,261.03</td>
<td class="gt_row gt_right" headers="DP_Tar">0.11</td>
<td class="gt_row gt_right" headers="DP_Ref">0.10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Token">social</td>
<td class="gt_row gt_right" headers="LL">248.10</td>
<td class="gt_row gt_right" headers="LR">4.98</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">208</td>
<td class="gt_row gt_right" headers="AF_Ref">7</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">171.28</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">5.44</td>
<td class="gt_row gt_right" headers="DP_Tar">0.65</td>
<td class="gt_row gt_right" headers="DP_Ref">0.88</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">are</td>
<td class="gt_row gt_right" headers="LL">221.19</td>
<td class="gt_row gt_right" headers="LR">1.44</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">707</td>
<td class="gt_row gt_right" headers="AF_Ref">276</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">582.17</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">214.55</td>
<td class="gt_row gt_right" headers="DP_Tar">0.21</td>
<td class="gt_row gt_right" headers="DP_Ref">0.30</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Token">studies</td>
<td class="gt_row gt_right" headers="LL">213.17</td>
<td class="gt_row gt_right" headers="LR">7.36</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">155</td>
<td class="gt_row gt_right" headers="AF_Ref">1</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">127.63</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">0.78</td>
<td class="gt_row gt_right" headers="DP_Tar">0.67</td>
<td class="gt_row gt_right" headers="DP_Ref">0.98</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">by</td>
<td class="gt_row gt_right" headers="LL">209.00</td>
<td class="gt_row gt_right" headers="LR">1.29</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">790</td>
<td class="gt_row gt_right" headers="AF_Ref">342</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">650.52</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">265.85</td>
<td class="gt_row gt_right" headers="DP_Tar">0.17</td>
<td class="gt_row gt_right" headers="DP_Ref">0.22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Token">in</td>
<td class="gt_row gt_right" headers="LL">185.82</td>
<td class="gt_row gt_right" headers="LR">0.58</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">2715</td>
<td class="gt_row gt_right" headers="AF_Ref">1922</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">2,235.64</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">1,494.05</td>
<td class="gt_row gt_right" headers="DP_Tar">0.11</td>
<td class="gt_row gt_right" headers="DP_Ref">0.09</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">students</td>
<td class="gt_row gt_right" headers="LL">179.36</td>
<td class="gt_row gt_right" headers="LR">5.27</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">146</td>
<td class="gt_row gt_right" headers="AF_Ref">4</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">120.22</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">3.11</td>
<td class="gt_row gt_right" headers="DP_Tar">0.80</td>
<td class="gt_row gt_right" headers="DP_Ref">0.94</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Token">research</td>
<td class="gt_row gt_right" headers="LL">175.19</td>
<td class="gt_row gt_right" headers="LR">4.74</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">151</td>
<td class="gt_row gt_right" headers="AF_Ref">6</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">124.34</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">4.66</td>
<td class="gt_row gt_right" headers="DP_Tar">0.63</td>
<td class="gt_row gt_right" headers="DP_Ref">0.90</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">is</td>
<td class="gt_row gt_right" headers="LL">171.74</td>
<td class="gt_row gt_right" headers="LR">0.87</td>
<td class="gt_row gt_right" headers="PV">0.00000</td>
<td class="gt_row gt_right" headers="AF_Tar">1241</td>
<td class="gt_row gt_right" headers="AF_Ref">720</td>
<td class="gt_row gt_right" headers="Per_10.5_Tar">1,021.89</td>
<td class="gt_row gt_right" headers="Per_10.5_Ref">559.68</td>
<td class="gt_row gt_right" headers="DP_Tar">0.23</td>
<td class="gt_row gt_right" headers="DP_Ref">0.36</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The columns are as follows:</p>
<ol type="1">
<li><strong>LL</strong>: the keyness value or <a href="http://ucrel.lancs.ac.uk/llwizard.html"><strong>log-likelihood</strong></a>, also know as a G2 or goodness-of-fit test.</li>
<li><strong>LR</strong>: the effect size, which here is the <a href="http://cass.lancs.ac.uk/log-ratio-an-informal-introduction/"><strong>log ratio</strong></a></li>
<li><strong>PV</strong>: the <em>p</em>-value associated with the log-likelihood</li>
<li><strong>AF_Tar</strong>: the absolute frequency in the target corpus</li>
<li><strong>AF_Ref</strong>: the absolute frequency in the reference corpus</li>
<li><strong>Per_10.x_Tar</strong>: the relative frequency in the target corpus (automatically calibrated to a normalizing factor, where here is per 100,000 tokens)</li>
<li><strong>Per_10.x_Ref</strong>: the relative frequency in the reference corpus (automatically calibrated to a normalizing factor, where here is per 100,000 tokens)</li>
<li><strong>DP_Tar</strong>: the <a href="https://www.researchgate.net/publication/233685362_Dispersions_and_adjusted_frequencies_in_corpora"><strong>deviation of proportions</strong></a> (a dispersion measure) in the target corpus</li>
<li><strong>DP_Ref</strong>: the deviation of proportions in the reference corpus</li>
</ol>
</section>
<section id="keyness-pairs" class="level3" data-number="6.5.3">
<h3 data-number="6.5.3" class="anchored" data-anchor-id="keyness-pairs"><span class="header-section-number">6.5.3</span> Keyness pairs</h3>
<p>There is also a function for quickly generating pair-wise keyness comparisions among multiple sub-corpora. To demonstrate, create a third <strong>dfm</strong>, this time containing news articles.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>news_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_subset</span>(sc_dfm, text_type <span class="sc">==</span> <span class="st">"news"</span>) <span class="sc">%&gt;%</span> <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To produce a data.frame comparing more than two sup-corpora, use the <code>keyness_pairs()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>kp <span class="ot">&lt;-</span> <span class="fu">keyness_pairs</span>(news_dfm, acad_dfm, fic_dfm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check the result:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>kp <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="fu">everything</span>(),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="ceryuauizv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ceryuauizv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ceryuauizv thead, #ceryuauizv tbody, #ceryuauizv tfoot, #ceryuauizv tr, #ceryuauizv td, #ceryuauizv th {
  border-style: none;
}

#ceryuauizv p {
  margin: 0;
  padding: 0;
}

#ceryuauizv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ceryuauizv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ceryuauizv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ceryuauizv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ceryuauizv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ceryuauizv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ceryuauizv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ceryuauizv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ceryuauizv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ceryuauizv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ceryuauizv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ceryuauizv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ceryuauizv .gt_spanner_row {
  border-bottom-style: hidden;
}

#ceryuauizv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ceryuauizv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ceryuauizv .gt_from_md > :first-child {
  margin-top: 0;
}

#ceryuauizv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ceryuauizv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ceryuauizv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ceryuauizv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ceryuauizv .gt_row_group_first td {
  border-top-width: 2px;
}

#ceryuauizv .gt_row_group_first th {
  border-top-width: 2px;
}

#ceryuauizv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ceryuauizv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ceryuauizv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ceryuauizv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ceryuauizv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ceryuauizv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ceryuauizv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ceryuauizv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ceryuauizv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ceryuauizv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ceryuauizv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ceryuauizv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ceryuauizv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ceryuauizv .gt_left {
  text-align: left;
}

#ceryuauizv .gt_center {
  text-align: center;
}

#ceryuauizv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ceryuauizv .gt_font_normal {
  font-weight: normal;
}

#ceryuauizv .gt_font_bold {
  font-weight: bold;
}

#ceryuauizv .gt_font_italic {
  font-style: italic;
}

#ceryuauizv .gt_super {
  font-size: 65%;
}

#ceryuauizv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ceryuauizv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ceryuauizv .gt_indent_1 {
  text-indent: 5px;
}

#ceryuauizv .gt_indent_2 {
  text-indent: 10px;
}

#ceryuauizv .gt_indent_3 {
  text-indent: 15px;
}

#ceryuauizv .gt_indent_4 {
  text-indent: 20px;
}

#ceryuauizv .gt_indent_5 {
  text-indent: 25px;
}

#ceryuauizv .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ceryuauizv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Pairwise comparisions of news (target) vs.&nbsp;academic (reference), news (target) vs.&nbsp;fiction (reference), and academic (target) vs.&nbsp;fiction (reference).</caption>
<thead>
<tr class="header gt_col_headings">
<th id="Token" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Token</th>
<th id="A_v_B_LL" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">A_v_B_LL</th>
<th id="A_v_B_LR" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">A_v_B_LR</th>
<th id="A_v_B_PV" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">A_v_B_PV</th>
<th id="A_v_C_LL" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">A_v_C_LL</th>
<th id="A_v_C_LR" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">A_v_C_LR</th>
<th id="A_v_C_PV" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">A_v_C_PV</th>
<th id="B_v_C_LL" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">B_v_C_LL</th>
<th id="B_v_C_LR" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">B_v_C_LR</th>
<th id="B_v_C_PV" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">B_v_C_PV</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Token">he</td>
<td class="gt_row gt_right" headers="A_v_B_LL">492.01</td>
<td class="gt_row gt_right" headers="A_v_B_LR">2.32</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">−394.56</td>
<td class="gt_row gt_right" headers="A_v_C_LR">−1.13</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LL">−1,686.80</td>
<td class="gt_row gt_right" headers="B_v_C_LR">−3.46</td>
<td class="gt_row gt_right" headers="B_v_C_PV">0.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">said</td>
<td class="gt_row gt_right" headers="A_v_B_LL">455.34</td>
<td class="gt_row gt_right" headers="A_v_B_LR">3.69</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">1.94</td>
<td class="gt_row gt_right" headers="A_v_C_LR">0.13</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.16</td>
<td class="gt_row gt_right" headers="B_v_C_LL">−414.33</td>
<td class="gt_row gt_right" headers="B_v_C_LR">−3.56</td>
<td class="gt_row gt_right" headers="B_v_C_PV">0.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Token">i</td>
<td class="gt_row gt_right" headers="A_v_B_LL">430.97</td>
<td class="gt_row gt_right" headers="A_v_B_LR">2.36</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">−853.61</td>
<td class="gt_row gt_right" headers="A_v_C_LR">−1.65</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LL">−2,330.44</td>
<td class="gt_row gt_right" headers="B_v_C_LR">−4.00</td>
<td class="gt_row gt_right" headers="B_v_C_PV">0.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">n't</td>
<td class="gt_row gt_right" headers="A_v_B_LL">333.06</td>
<td class="gt_row gt_right" headers="A_v_B_LR">3.23</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">−173.20</td>
<td class="gt_row gt_right" headers="A_v_C_LR">−1.10</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LL">−926.44</td>
<td class="gt_row gt_right" headers="B_v_C_LR">−4.33</td>
<td class="gt_row gt_right" headers="B_v_C_PV">0.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Token">you</td>
<td class="gt_row gt_right" headers="A_v_B_LL">327.51</td>
<td class="gt_row gt_right" headers="A_v_B_LR">3.06</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">−410.98</td>
<td class="gt_row gt_right" headers="A_v_C_LR">−1.54</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LL">−1,355.34</td>
<td class="gt_row gt_right" headers="B_v_C_LR">−4.60</td>
<td class="gt_row gt_right" headers="B_v_C_PV">0.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">mr</td>
<td class="gt_row gt_right" headers="A_v_B_LL">236.58</td>
<td class="gt_row gt_right" headers="A_v_B_LR">5.10</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">75.25</td>
<td class="gt_row gt_right" headers="A_v_C_LR">1.61</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LL">−60.92</td>
<td class="gt_row gt_right" headers="B_v_C_LR">−3.48</td>
<td class="gt_row gt_right" headers="B_v_C_PV">0.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Token">park</td>
<td class="gt_row gt_right" headers="A_v_B_LL">226.44</td>
<td class="gt_row gt_right" headers="A_v_B_LR">8.36</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">139.47</td>
<td class="gt_row gt_right" headers="A_v_C_LR">3.20</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LL">−25.26</td>
<td class="gt_row gt_right" headers="B_v_C_LR">−5.16</td>
<td class="gt_row gt_right" headers="B_v_C_PV">0.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">she</td>
<td class="gt_row gt_right" headers="A_v_B_LL">212.56</td>
<td class="gt_row gt_right" headers="A_v_B_LR">2.36</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">−919.21</td>
<td class="gt_row gt_right" headers="A_v_C_LR">−2.21</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LL">−1,850.64</td>
<td class="gt_row gt_right" headers="B_v_C_LR">−4.57</td>
<td class="gt_row gt_right" headers="B_v_C_PV">0.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Token">p.m</td>
<td class="gt_row gt_right" headers="A_v_B_LL">209.56</td>
<td class="gt_row gt_right" headers="A_v_B_LR">8.25</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">199.71</td>
<td class="gt_row gt_right" headers="A_v_C_LR">6.33</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LL">−2.66</td>
<td class="gt_row gt_right" headers="B_v_C_LR">−1.92</td>
<td class="gt_row gt_right" headers="B_v_C_PV">0.10</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Token">ob</td>
<td class="gt_row gt_right" headers="A_v_B_LL">198.31</td>
<td class="gt_row gt_right" headers="A_v_B_LR">8.17</td>
<td class="gt_row gt_right" headers="A_v_B_PV">0.00</td>
<td class="gt_row gt_right" headers="A_v_C_LL">206.63</td>
<td class="gt_row gt_right" headers="A_v_C_LR">8.25</td>
<td class="gt_row gt_right" headers="A_v_C_PV">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LL">0.00</td>
<td class="gt_row gt_right" headers="B_v_C_LR">0.08</td>
<td class="gt_row gt_right" headers="B_v_C_PV">1.00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="key-key-words" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="key-key-words"><span class="header-section-number">6.6</span> Key key words</h2>
<p>The concept of <a href="https://lexically.net/downloads/version5/HTML/index.html?keykeyness_definition.htm">“<strong>key key words</strong>”</a> was introduced by Mike Smith for the WordSmith concordancer. The process compares each text in the target corpus to the reference corpus. Log-likelihood is calculated for each comparison. Then a mean is calculated for keyness and effect size. In addition, a range is provided for the number of texts in which keyness reaches significance for a given threshold. (The default is <em>p</em> &lt; 0.05.) That range is returned as a percentage.</p>
<p>In this way, <strong>key key words</strong> accounts for the dispersion of key words by indicating whether a keyness value is driven by a relatively high frequency in a few target texts or many.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>kk <span class="ot">&lt;-</span> <span class="fu">key_keys</span>(acad_dfm, fic_dfm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Again, we can look at the first few rows of the table:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>kk <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="fu">everything</span>(),</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="vnbfbntutj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vnbfbntutj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vnbfbntutj thead, #vnbfbntutj tbody, #vnbfbntutj tfoot, #vnbfbntutj tr, #vnbfbntutj td, #vnbfbntutj th {
  border-style: none;
}

#vnbfbntutj p {
  margin: 0;
  padding: 0;
}

#vnbfbntutj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vnbfbntutj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vnbfbntutj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vnbfbntutj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vnbfbntutj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vnbfbntutj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vnbfbntutj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vnbfbntutj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vnbfbntutj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vnbfbntutj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vnbfbntutj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vnbfbntutj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vnbfbntutj .gt_spanner_row {
  border-bottom-style: hidden;
}

#vnbfbntutj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vnbfbntutj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vnbfbntutj .gt_from_md > :first-child {
  margin-top: 0;
}

#vnbfbntutj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vnbfbntutj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vnbfbntutj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vnbfbntutj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vnbfbntutj .gt_row_group_first td {
  border-top-width: 2px;
}

#vnbfbntutj .gt_row_group_first th {
  border-top-width: 2px;
}

#vnbfbntutj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vnbfbntutj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vnbfbntutj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vnbfbntutj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vnbfbntutj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vnbfbntutj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vnbfbntutj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vnbfbntutj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vnbfbntutj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vnbfbntutj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vnbfbntutj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vnbfbntutj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vnbfbntutj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vnbfbntutj .gt_left {
  text-align: left;
}

#vnbfbntutj .gt_center {
  text-align: center;
}

#vnbfbntutj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vnbfbntutj .gt_font_normal {
  font-weight: normal;
}

#vnbfbntutj .gt_font_bold {
  font-weight: bold;
}

#vnbfbntutj .gt_font_italic {
  font-style: italic;
}

#vnbfbntutj .gt_super {
  font-size: 65%;
}

#vnbfbntutj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vnbfbntutj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vnbfbntutj .gt_indent_1 {
  text-indent: 5px;
}

#vnbfbntutj .gt_indent_2 {
  text-indent: 10px;
}

#vnbfbntutj .gt_indent_3 {
  text-indent: 15px;
}

#vnbfbntutj .gt_indent_4 {
  text-indent: 20px;
}

#vnbfbntutj .gt_indent_5 {
  text-indent: 25px;
}

#vnbfbntutj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#vnbfbntutj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Key key words when comparing the academic text-type to the fiction text-type.</caption>
<thead>
<tr class="header gt_col_headings">
<th id="token" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">token</th>
<th id="key_range" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">key_range</th>
<th id="key_mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">key_mean</th>
<th id="key_sd" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">key_sd</th>
<th id="effect_mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">effect_mean</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="token">of</td>
<td class="gt_row gt_right" headers="key_range">98.00</td>
<td class="gt_row gt_right" headers="key_mean">59.20</td>
<td class="gt_row gt_right" headers="key_sd">36.40</td>
<td class="gt_row gt_right" headers="effect_mean">1.21</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="token">social</td>
<td class="gt_row gt_right" headers="key_range">38.00</td>
<td class="gt_row gt_right" headers="key_mean">25.00</td>
<td class="gt_row gt_right" headers="key_sd">70.11</td>
<td class="gt_row gt_right" headers="effect_mean">3.41</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="token">studies</td>
<td class="gt_row gt_right" headers="key_range">44.00</td>
<td class="gt_row gt_right" headers="key_mean">22.56</td>
<td class="gt_row gt_right" headers="key_sd">67.90</td>
<td class="gt_row gt_right" headers="effect_mean">5.93</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="token">students</td>
<td class="gt_row gt_right" headers="key_range">16.00</td>
<td class="gt_row gt_right" headers="key_mean">19.64</td>
<td class="gt_row gt_right" headers="key_sd">70.17</td>
<td class="gt_row gt_right" headers="effect_mean">3.56</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="token">the</td>
<td class="gt_row gt_right" headers="key_range">64.00</td>
<td class="gt_row gt_right" headers="key_mean">17.80</td>
<td class="gt_row gt_right" headers="key_sd">26.72</td>
<td class="gt_row gt_right" headers="effect_mean">0.31</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="token">research</td>
<td class="gt_row gt_right" headers="key_range">34.00</td>
<td class="gt_row gt_right" headers="key_mean">17.57</td>
<td class="gt_row gt_right" headers="key_sd">63.50</td>
<td class="gt_row gt_right" headers="effect_mean">3.48</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="token">political</td>
<td class="gt_row gt_right" headers="key_range">26.00</td>
<td class="gt_row gt_right" headers="key_mean">17.00</td>
<td class="gt_row gt_right" headers="key_sd">57.92</td>
<td class="gt_row gt_right" headers="effect_mean">3.78</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="token">changes</td>
<td class="gt_row gt_right" headers="key_range">44.00</td>
<td class="gt_row gt_right" headers="key_mean">16.51</td>
<td class="gt_row gt_right" headers="key_sd">62.96</td>
<td class="gt_row gt_right" headers="effect_mean">4.71</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="token">science</td>
<td class="gt_row gt_right" headers="key_range">16.00</td>
<td class="gt_row gt_right" headers="key_mean">15.65</td>
<td class="gt_row gt_right" headers="key_sd">60.28</td>
<td class="gt_row gt_right" headers="effect_mean">3.46</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="token">study</td>
<td class="gt_row gt_right" headers="key_range">46.00</td>
<td class="gt_row gt_right" headers="key_mean">15.35</td>
<td class="gt_row gt_right" headers="key_sd">27.65</td>
<td class="gt_row gt_right" headers="effect_mean">3.27</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pause for Lab Set Question
</div>
</div>
<div class="callout-body-container callout-body">
<p>Complete <a href="../lab_sets/LabSet_02.html#keyness">Task 1 in Lab Set 2</a>.</p>
</div>
</div>
</section>
<section id="works-cited" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="works-cited"><span class="header-section-number">6.7</span> Works cited</h2>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-gabrielatos2011keyness" class="csl-entry" role="listitem">
Gabrielatos, Costas, and Anna Marchi. 2011. <span>“Keyness: Matching Metrics to Definitions.”</span> In <em>Theoretical-Methodological Challenges in Corpus Approaches to Discourse Studies and Some Ways of Addressing Them</em>. <a href="https://research.edgehill.ac.uk/en/publications/keyness-matching-metrics-to-definitions-2">https://research.edgehill.ac.uk/en/publications/keyness-matching-metrics-to-definitions-2</a>.
</div>
<div id="ref-johnston2006measures" class="csl-entry" role="listitem">
Johnston, Janis E, Kenneth J Berry, and Paul W Mielke Jr. 2006. <span>“Measures of Effect Size for Chi-Squared and Likelihood-Ratio Goodness-of-Fit Tests.”</span> <em>Perceptual and Motor Skills</em> 103 (2): 412–14.
</div>
<div id="ref-wilson2013embracing" class="csl-entry" role="listitem">
Wilson, Andrew. 2013. <span>“Embracing Bayes Factors for Key Item Analysis in Corpus Linguistics.”</span> <em>New Approaches to the Study of Linguistic Variability</em> 4: 3–11.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../labs/collocations.html" class="pagination-link  aria-label=" &lt;span="" &amp;="" association="" measures&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Collocations &amp; Association Measures</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../labs/feature-engineering.html" class="pagination-link" aria-label="<span class='chapter-number'>7</span>&nbsp; <span class='chapter-title'>Part-of-Speech Tagging and Dependency Parsing</span>">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Part-of-Speech Tagging and Dependency Parsing</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/browndw/textstat_docs/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>